"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[536],{302(e,s,a){a.d(s,{A:()=>n});var o=a(43),r=a(368),t=a(579);const n=function(e){var s;let{showProfile:a=!0}=e;const n=(0,r.Zp)(),[i,c]=(0,o.useState)(null),[l,d]=(0,o.useState)(!1);(0,o.useEffect)(()=>{const e=localStorage.getItem("user");e&&c(JSON.parse(e))},[]);const u=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U";return(0,t.jsxs)("header",{className:"navbar",children:[(0,t.jsx)("div",{className:"nav-left",children:(0,t.jsx)("div",{className:"logo",onClick:()=>n("/"),children:(0,t.jsx)("img",{src:"/img/logo.png",alt:"E Siksha Logo"})})}),(0,t.jsx)("div",{className:"nav-right",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("nav",{className:"nav-links",children:[(0,t.jsx)("button",{className:"nav-link",onClick:()=>n("/"),children:"Home"}),(0,t.jsx)("button",{className:"nav-link",onClick:()=>n("/list"),children:"Courses"}),(0,t.jsx)("button",{className:"nav-link",onClick:()=>n("/pdf"),children:"Notes"}),(0,t.jsx)("button",{className:"nav-link",onClick:()=>n("/about"),children:"About"})]}),i?(0,t.jsxs)("div",{className:"user-profile",onClick:()=>d(!l),children:[i.avatar?(0,t.jsx)("img",{src:i.avatar,alt:i.fullName,className:"user-avatar"}):(0,t.jsx)("div",{className:"avatar-placeholder",children:u(i.fullName)}),(0,t.jsx)("span",{className:"user-name",children:(null===(s=i.fullName)||void 0===s?void 0:s.split(" ")[0])||"User"}),(0,t.jsx)("i",{className:"fas fa-chevron-".concat(l?"up":"down")}),l&&(0,t.jsxs)("div",{className:"dropdown-menu",children:[(0,t.jsx)("div",{className:"dropdown-header",children:(0,t.jsxs)("div",{className:"user-info",children:[i.avatar?(0,t.jsx)("img",{src:i.avatar,alt:i.fullName}):(0,t.jsx)("div",{className:"avatar-small",children:u(i.fullName)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:i.fullName}),(0,t.jsx)("span",{children:i.email})]})]})}),(0,t.jsx)("div",{className:"dropdown-divider"}),(0,t.jsxs)("button",{className:"dropdown-item",onClick:()=>{(()=>{const e=localStorage.getItem("user");e?"admin"===JSON.parse(e).role?n("/admin"):n("/dashboard"):n("/login")})(),d(!1)},children:[(0,t.jsx)("i",{className:"fas fa-tachometer-alt"}),"Dashboard"]}),(0,t.jsxs)("button",{className:"dropdown-item",onClick:()=>{n("/add-content"),d(!1)},children:[(0,t.jsx)("i",{className:"fas fa-plus-circle"}),"Add Content"]}),(0,t.jsxs)("button",{className:"dropdown-item",onClick:()=>{n("/profile"),d(!1)},children:[(0,t.jsx)("i",{className:"fas fa-user-cog"}),"Edit Profile"]}),(0,t.jsx)("div",{className:"dropdown-divider"}),(0,t.jsxs)("button",{className:"dropdown-item logout",onClick:()=>{localStorage.removeItem("user"),localStorage.removeItem("token"),c(null),d(!1),n("/login")},children:[(0,t.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>n("/reg"),children:[(0,t.jsx)("i",{className:"fas fa-user-plus"}),"Sign Up"]})})]}):(0,t.jsx)("button",{className:"btn btn-primary",onClick:()=>n("/login"),children:"Get Started"})})]})}},536(e,s,a){a.r(s),a.d(s,{default:()=>l});var o=a(555),r=a(43),t=a(368),n=a(768),i=a(302),c=a(579);const l=function(){const e=(0,t.Zp)(),[s,a]=(0,r.useState)({email:"",password:""}),[l,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(""),[h,g]=(0,r.useState)(!1),[p,v]=(0,r.useState)(!1),f=e=>{const{name:r,value:t}=e.target;a((0,o.A)((0,o.A)({},s),{},{[r]:t})),m("")};return(0,r.useEffect)(()=>{const e=localStorage.getItem("rememberedEmail");e&&(a(s=>(0,o.A)((0,o.A)({},s),{},{email:e})),d(!0))},[]),(0,c.jsxs)("div",{children:[(0,c.jsx)(i.A,{}),(0,c.jsxs)("div",{className:"container",children:[(0,c.jsxs)("div",{className:"left",children:[(0,c.jsxs)("h1",{children:["Welcome to ",(0,c.jsx)("span",{className:"brand",children:"E Siksha"})]}),(0,c.jsx)("p",{children:"Master the skills of tomorrow with India's leading online learning platform. Join thousands of learners who are transforming their careers with our industry-relevant courses and expert mentorship."}),(0,c.jsxs)("div",{className:"features-list",children:[(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("i",{className:"fas fa-graduation-cap"}),(0,c.jsx)("span",{children:"500+ Courses"})]}),(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("i",{className:"fas fa-chalkboard-teacher"}),(0,c.jsx)("span",{children:"Expert Instructors"})]}),(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("i",{className:"fas fa-certificate"}),(0,c.jsx)("span",{children:"Certification"})]}),(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("i",{className:"fas fa-laptop-code"}),(0,c.jsx)("span",{children:"Hands-on Projects"})]})]}),(0,c.jsx)("span",{className:"shape s1"}),(0,c.jsx)("span",{className:"shape s2"}),(0,c.jsx)("span",{className:"shape s3"})]}),(0,c.jsx)("div",{className:"right",children:(0,c.jsxs)("div",{className:"login-box",children:[(0,c.jsxs)("div",{className:"login-header",children:[(0,c.jsx)("h2",{children:"USER LOGIN"}),(0,c.jsx)("p",{children:"Sign in to your account to continue learning"})]}),u&&(0,c.jsx)("div",{className:"error-message",style:{backgroundColor:"#fee",color:"#c33",padding:"10px",borderRadius:"5px",marginBottom:"15px",textAlign:"center"},children:u}),(0,c.jsxs)("form",{id:"loginForm",onSubmit:async a=>{a.preventDefault(),g(!0),m("");try{const a=await(0,n.Lx)({email:s.email,password:s.password});a.success?(localStorage.setItem("user",JSON.stringify(a.user)),l?localStorage.setItem("rememberedEmail",s.email):localStorage.removeItem("rememberedEmail"),alert("Login successful!"),e("/list")):m(a.message||"Login failed")}catch(o){console.error("Login error:",o),m(o.message||"Login failed. Please try again.")}finally{g(!1)}},children:[(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("i",{className:"fas fa-user"}),(0,c.jsx)("input",{type:"text",name:"email",placeholder:"Email or Username",required:!0,value:s.email,onChange:f,disabled:h})]}),(0,c.jsxs)("div",{className:"input-group",children:[(0,c.jsx)("i",{className:"fas fa-lock"}),(0,c.jsx)("input",{type:p?"text":"password",name:"password",placeholder:"Password",required:!0,value:s.password,onChange:f,disabled:h}),(0,c.jsx)("i",{className:"fas fa-eye".concat(p?"-slash":""," toggle-password"),onClick:()=>{v(!p)},style:{cursor:"pointer"}})]}),(0,c.jsxs)("div",{className:"options",children:[(0,c.jsxs)("label",{className:"checkbox",children:[(0,c.jsx)("input",{type:"checkbox",checked:l,onChange:e=>d(e.target.checked),disabled:h}),(0,c.jsx)("span",{className:"checkmark"}),"Remember me"]}),(0,c.jsx)("a",{href:"/forgot-password",className:"forgot-link",children:"Forgot password?"})]}),(0,c.jsx)("button",{type:"submit",className:"login-btn",disabled:h,children:h?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("i",{className:"fas fa-spinner fa-spin"})," Logging in..."]}):"LOGIN"}),(0,c.jsxs)("div",{className:"signup-link",children:["Don't have an account? ",(0,c.jsx)("a",{onClick:()=>e("/reg"),children:"Sign up now"})]})]})]})})]}),(0,c.jsx)("footer",{className:"login-footer",children:(0,c.jsx)("div",{className:"footer-content",children:(0,c.jsx)("p",{children:"\xa9 2025 E Siksha. All rights reserved."})})})]})}},768(e,s,a){a.d(s,{CS:()=>f,DA:()=>h,DY:()=>i,E0:()=>m,Fj:()=>x,K3:()=>g,Lx:()=>c,NJ:()=>u,cs:()=>v,dE:()=>w,lo:()=>y,mc:()=>p,nI:()=>N,pU:()=>b,r7:()=>l,tO:()=>d,vE:()=>k,vW:()=>j});var o=a(555),r=a(722);const t="https://e-siksha-mljg.onrender.com/api",n=r.A.create({baseURL:t,headers:{"Content-Type":"application/json"}});n.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization="Bearer ".concat(s)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var s;return 401===(null===(s=e.response)||void 0===s?void 0:s.status)&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)});const i=async e=>{try{const s=await n.post("/register",e);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(o){var s,a;throw console.error("Registration error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Registration failed"}}},c=async e=>{try{const s=await n.post("/login",e);return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data}catch(o){var s,a;throw console.error("Login error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Login failed"}}},l=async e=>{try{const s=new FormData;Object.keys(e).forEach(a=>{"skills"===a&&Array.isArray(e[a])?s.append(a,JSON.stringify(e[a])):("avatar"===a&&(e[a],File),s.append(a,e[a]))});const a=localStorage.getItem("token"),r=await fetch("".concat(t,"/user/profile"),{method:"PUT",headers:{Authorization:"Bearer ".concat(a)},body:s}),n=await r.json();if(!r.ok)throw n;if(n.user){const e=JSON.parse(localStorage.getItem("user")||"{}");localStorage.setItem("user",JSON.stringify((0,o.A)((0,o.A)({},e),n.user)))}return n}catch(a){var s;throw console.error("Update profile error:",a),(null===(s=a.response)||void 0===s?void 0:s.data)||{success:!1,message:"Failed to update profile"}}},d=async()=>{try{return(await n.get("/user/dashboard")).data}catch(a){var e,s;throw console.error("Dashboard error:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),(null===(s=a.response)||void 0===s?void 0:s.data)||{success:!1,message:"Failed to load dashboard"}}},u=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await n.get("/courses",{params:e})).data}catch(o){var s,a;throw console.error("Get courses error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Failed to load courses"}}},m=async e=>{try{return(await n.get("/courses/".concat(e))).data}catch(o){var s,a;throw console.error("Get course error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Failed to load course"}}},h=async e=>{try{return(await n.post("/courses/".concat(e,"/enroll"))).data}catch(o){var s,a;throw console.error("Enroll error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Failed to enroll in course"}}},g=async(e,s)=>{try{return(await n.post("/courses/".concat(e,"/progress"),s)).data}catch(r){var a,o;throw console.error("Progress error:",(null===(a=r.response)||void 0===a?void 0:a.data)||r.message),(null===(o=r.response)||void 0===o?void 0:o.data)||{success:!1,message:"Failed to update progress"}}},p=async e=>{try{const s=localStorage.getItem("token"),a=await fetch("".concat(t,"/courses/submit"),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:e}),o=await a.json();if(!a.ok)throw o;return o}catch(s){throw console.error("Submit course error:",s),s}},v=async e=>{try{const s=localStorage.getItem("token"),a=await fetch("".concat(t,"/notes/submit"),{method:"POST",headers:{Authorization:"Bearer ".concat(s)},body:e}),o=await a.json();if(!a.ok)throw o;return o}catch(s){throw console.error("Error submitting notes:",s),s}},f=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{return(await n.get("/notes",{params:e})).data}catch(o){var s,a;throw console.error("Get notes error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Failed to load notes"}}},j=async e=>{try{return(await n.get("/notes/".concat(e))).data}catch(o){var s,a;throw console.error("Get note error:",(null===(s=o.response)||void 0===s?void 0:s.data)||o.message),(null===(a=o.response)||void 0===a?void 0:a.data)||{success:!1,message:"Failed to load note"}}},x=async()=>{try{return(await n.get("/admin/pending")).data}catch(a){var e,s;throw console.error("Pending content error:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),(null===(s=a.response)||void 0===s?void 0:s.data)||{success:!1,message:"Failed to load pending content"}}},N=async function(e,s,a){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";try{return(await n.post("/admin/content/".concat(e,"/").concat(s,"/approve"),{action:a,reason:o})).data}catch(i){var r,t;throw console.error("Approve content error:",(null===(r=i.response)||void 0===r?void 0:r.data)||i.message),(null===(t=i.response)||void 0===t?void 0:t.data)||{success:!1,message:"Failed to process content"}}},w=async()=>{try{return(await n.get("/admin/stats")).data}catch(a){var e,s;throw console.error("Admin stats error:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),(null===(s=a.response)||void 0===s?void 0:s.data)||{success:!1,message:"Failed to load stats"}}},y=async()=>{try{return(await n.get("/admin/users")).data}catch(a){var e,s;throw console.error("Get users error:",(null===(e=a.response)||void 0===e?void 0:e.data)||a.message),(null===(s=a.response)||void 0===s?void 0:s.data)||{success:!1,message:"Failed to load users"}}},k=async function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const o=localStorage.getItem("token");if(!o)throw new Error("No authentication token found");const r=await fetch("".concat(t,"/admin/").concat(e,"/").concat(s),{method:"DELETE",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({reason:a})}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to delete ".concat(e));return n}catch(o){throw console.error("Error deleting ".concat(e,":"),o),o}},b=async(e,s)=>{try{const a=localStorage.getItem("token");if(!a)throw new Error("No authentication token found");const o=await fetch("".concat(t,"/admin/users/").concat(e,"/status"),{method:"PUT",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify({isActive:s})}),r=await o.json();if(!o.ok)throw new Error(r.message||"Failed to update user status");return r}catch(a){throw console.error("Error updating user status:",a),a}}}}]);
//# sourceMappingURL=536.5b7157a7.chunk.js.map