{"version":3,"file":"static/js/298.9de90f35.chunk.js","mappings":"6KAobA,QA/aA,WACE,MAAM,GAAEA,IAAOC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,QAAO,OAClBC,EAAQC,IAAaC,EAAAA,EAAAA,UAAS,OAC9BC,EAAmBC,IAAwBF,EAAAA,EAAAA,UAAS,IACpDG,EAAWC,IAAgBJ,EAAAA,EAAAA,WAAS,IACpCK,EAAMC,IAAWN,EAAAA,EAAAA,UAAS,KAC1BO,EAASC,IAAcR,EAAAA,EAAAA,WAAS,IAChCS,EAAOC,IAAYV,EAAAA,EAAAA,UAAS,OAC5BW,EAAOC,IAAYZ,EAAAA,EAAAA,UAAS,KAC5Ba,EAAiBC,IAAsBd,EAAAA,EAAAA,UAAS,CAAC,IAexDe,EAAAA,EAAAA,WAAU,KACRC,IACAC,KACC,CAACzB,IAEJ,MAAMwB,EAAkBE,UACtB,IACEV,GAAW,GACX,MAAMW,QAAiBC,EAAAA,EAAAA,IAAU5B,GAEjC,IAAI2B,EAASE,QA2BX,MAAM,IAAIC,MAAMH,EAASI,SAAW,yBA3BhB,CAAC,IAADC,EACpB,MAAMC,EAAaN,EAASrB,OAC5B4B,QAAQC,IAAI,mCAAoCF,GAGhD,MAAMG,GAA8B,QAAlBJ,EAAAC,EAAWI,eAAO,IAAAL,OAAA,EAAlBA,EAAoBM,QAAQ,CAACC,EAAQC,IACrDD,EAAOE,OAAOC,IAAIC,IAAKC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClBD,GAAK,IACRE,SAAUN,EAAOO,KAAON,EACxBO,WAAYR,EAAOS,MACnBR,oBAEC,GAELjC,GAASqC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACNX,GAAU,IACbG,YACAa,aAAcb,EAAU,IAAM,QAI5BH,EAAWI,SAAWJ,EAAWI,QAAQa,OAAS,GACpD5B,EAAmB,CAAE,CAACW,EAAWI,QAAQ,GAAGS,KAAO,IAAI,IAGzD5B,EAAS,KACX,CAGF,CAAE,MAAOiC,GACPjB,QAAQjB,MAAM,sBAAuBkC,GACrCjC,EAASiC,EAAIpB,SAAW,wBAC1B,CAAC,QACCf,GAAW,EACb,GAGIS,EAAYA,KAChB,IACE,MAAM2B,EAAaC,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,MAE9DC,EAAcC,OAAOC,OAAOP,GAAYQ,OAAO/C,GACnDA,EAAKgD,WAAa7D,GAEpBoB,EAASqC,EACX,CAAE,MAAON,GACPjB,QAAQjB,MAAM,oBAAqBkC,GACnC/B,EAAS,GACX,GAwFF,GAAIL,EACF,OACE+C,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBC,UACnCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oBAAmBC,SAAA,EAChCF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,aACfD,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iCAMX,GAAI/C,IAAUX,EACZ,OACEwD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBC,UACnCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kBAAiBC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iCACbD,EAAAA,EAAAA,KAAA,MAAAE,SAAK/C,GAAS,sBACd6C,EAAAA,EAAAA,KAAA,KAAAE,SAAI/C,EAAQ,yBAA2B,6CACvC6C,EAAAA,EAAAA,KAAA,UAAQI,QAASA,IAAMhE,EAAS,SAAU6D,UAAU,cAAaC,SAAC,wBAQ1E,MAAMf,EAAe3C,EAAO2C,aACtBkB,IAA6B,OAAZlB,QAAY,IAAZA,IAAAA,EAAcmB,UAlLfA,EAkLkCnB,EAAamB,OAhL5DA,EAAIC,SAAS,gBAAkBD,EAAIC,SAAS,cAF/BD,MAmLtB,MAAME,EAAOH,EA1LSC,KACpB,IAAKA,EAAK,OAAO,KACjB,MACMG,EAAQH,EAAIG,MADH,mEAEf,OAAQA,GAASA,EAAM,GAAMA,EAAM,GAAK,MAsLZC,CAAavB,EAAamB,KAAO,KAE/D,OACEH,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,EAEnCC,EAAAA,EAAAA,MAAA,UAAQF,UAAU,eAAcC,SAAA,EAC9BF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,WAAWG,QAASA,IAAMhE,EAAS,WAADuE,OAAYzE,IAAMgE,SAAC,2BAGvEF,EAAAA,EAAAA,KAAA,MAAAE,SAAK1D,EAAO0C,SACZiB,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,UACEF,UAAU,YACVG,QAASA,IAAMtD,GAAcD,GAAWqD,SAAA,EAExCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAAyB,IAAEpD,EAAY,OAAS,YAE/DsD,EAAAA,EAAAA,MAAA,UACEF,UAAU,eACVG,QAASA,KACHC,GAAkBG,EACpBI,OAAOC,KAAK,mCAADF,OAAoCH,GAAQ,UAEvDI,OAAOC,KAAiB,OAAZ1B,QAAY,IAAZA,OAAY,EAAZA,EAAcmB,IAAK,WAEjCJ,SAAA,EAEFF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA+B,6BAMlDE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,wBAAuBC,SAAA,CAEnC1D,EAAO+B,SAAW/B,EAAO+B,QAAQa,OAAS,IACzCe,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mBAAkBC,SAAA,EAC/BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAkB,uBAEjCE,EAAAA,EAAAA,MAAA,QAAMF,UAAU,cAAaC,SAAA,CAAE1D,EAAO8B,UAAUc,OAAO,iBAGzDY,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAC3B1D,EAAO+B,QAAQK,IAAI,CAACH,EAAQC,KAC3B,MAAMoC,EAAavD,EAAgBkB,EAAOO,KAAON,GAC3CqC,EAAetC,EAAOE,QAAU,GAEtC,OACEwB,EAAAA,EAAAA,MAAA,OAAqCF,UAAU,iBAAgBC,SAAA,EAE7DC,EAAAA,EAAAA,MAAA,OACEF,UAAU,gBACVG,QAASA,KAAMY,OA5IbjC,EA4I0BN,EAAOO,KAAON,OA3I5DlB,EAAmByD,IAAInC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAClBmC,GAAI,IACP,CAAClC,IAAYkC,EAAKlC,MAHAA,OA4IqDmB,SAAA,EAEvDF,EAAAA,EAAAA,KAAA,KAAGC,UAAS,OAAAU,OAASG,EAAa,kBAAoB,uBACtDd,EAAAA,EAAAA,KAAA,MAAAE,SAAKzB,EAAOS,SACZiB,EAAAA,EAAAA,MAAA,QAAMF,UAAU,qBAAoBC,SAAA,CAAEa,EAAa3B,OAAO,gBAI3D0B,IACCd,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAC3Ba,EAAanC,IAAI,CAACC,EAAOqC,KAExB,MAAMC,EAAc3E,EAAO8B,UAAU8C,UAAUC,GAC7CA,EAAEf,MAAQzB,EAAMyB,KAAOe,EAAEnC,QAAUL,EAAMK,OAG3C,OACEiB,EAAAA,EAAAA,MAAA,OAEEjE,GAAE,SAAAyE,OAAWQ,GACblB,UAAS,iBAAAU,OAAmBhE,IAAsBwE,EAAc,SAAW,IAC3Ef,QAASA,IA5LXxC,OAAOiB,EAAOsC,KACtC,IAAK3E,EAAQ,OAGbC,GAASqC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACNtC,GAAM,IACT2C,aAAcN,KAEhBjC,EAAqBuE,GAGrB,UACQG,EAAAA,EAAAA,IAAqBpF,EAAI,CAC7BqF,SAAUC,KAAKC,IAAI,KAAON,EAAc,GAAK3E,EAAO8B,UAAUc,OAAU,KACxEsC,UAAWP,IAAgB3E,EAAO8B,UAAUc,OAAS,GAEzD,CAAE,MAAOC,GACPjB,QAAQjB,MAAM,yBAA0BkC,EAC1C,CAGA,MAAMsC,EAAeC,SAASC,eAAe,SAADlB,OAAUQ,IAClDQ,GACFA,EAAaG,eAAe,CAAEC,SAAU,SAAUC,MAAO,YAqKlBC,CAAkBzF,EAAO8B,UAAU6C,GAAcA,GAAajB,SAAA,EAE7EF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBC,SAChCvD,IAAsBwE,GACrBnB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAEbD,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAGjBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,EACjCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,sBAAqBC,SAAErB,EAAMK,QACzCL,EAAMqD,WACLlC,EAAAA,EAAAA,KAAA,QAAMC,UAAU,yBAAwBC,SAAErB,EAAMqD,gBAE9C,GAAAvB,OAjBElC,EAAOO,KAAON,EAAW,KAAAiC,OAAIO,UAtBvCzC,EAAOO,KAAON,WAqDlCsB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,qBAAoBC,UACjCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAE3BG,GAAkBG,GACjBR,EAAAA,EAAAA,KAAA,UACEmC,MAAM,OACNC,OAAO,OACPC,IAAG,iCAAA1B,OAAmCH,EAAI,2BAC1CtB,OAAmB,OAAZC,QAAY,IAAZA,OAAY,EAAZA,EAAcD,QAAK,GAAAyB,OAAOnE,EAAO0C,MAAK,wBAC7CoD,YAAY,IACZC,MAAM,2FACNC,iBAAe,EACfvC,UAAU,oBAIZD,EAAAA,EAAAA,KAAA,SACEyC,IAAKnG,EACL+F,IAAiB,OAAZlD,QAAY,IAAZA,OAAY,EAAZA,EAAcmB,IACnBoC,QAAUC,IACRvE,QAAQjB,MAAM,oBAAqBwF,GACnCvF,EAAS,wDAEX6C,UAAU,gBACV2C,UAAQ,OAKdzC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,aAAYC,SAAA,EACzBF,EAAAA,EAAAA,KAAA,MAAAE,UAAiB,OAAZf,QAAY,IAAZA,OAAY,EAAZA,EAAcD,QAAS1C,EAAO0C,SACnCc,EAAAA,EAAAA,KAAA,KAAGC,UAAU,qBAAoBC,SAAE1D,EAAOqG,eAG1C1C,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,kBACbE,EAAAA,EAAAA,MAAA,QAAAD,SAAA,EAAMF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,KAAc,OAAZf,QAAY,IAAZA,OAAY,EAAZA,EAAc+C,WAAY1F,EAAO0F,gBAErE/B,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,mBACbE,EAAAA,EAAAA,MAAA,QAAAD,SAAA,EAAMF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,WAAe,IAAE1D,EAAOsG,aAExC3C,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,iBACbE,EAAAA,EAAAA,MAAA,QAAAD,SAAA,EAAMF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,IAAE1D,EAAOuG,sBAE7C5C,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBACbE,EAAAA,EAAAA,MAAA,QAAAD,SAAA,EAAMF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,cAAkB,IAAE1D,EAAOwG,kBAI5C7F,IACCgD,EAAAA,EAAAA,MAAA,KAAGF,UAAU,cAAaC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gCAAkC,IAAE9C,gBAS5DN,IACCsD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,qBAAoBC,SAAA,EACjCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,eAAcC,SAAA,EAC3BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,cACJF,EAAAA,EAAAA,KAAA,UACEC,UAAU,cACVG,QAASA,IAAMtD,GAAa,GAAOoD,UAEnCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,uBAIjBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,sBAAqBC,SAAA,EAClCF,EAAAA,EAAAA,KAAA,YACEiD,MAAOlG,EACPmG,SAAWP,GAAM3F,EAAQ2F,EAAEQ,OAAOF,OAClCG,YAAY,0BACZnD,UAAU,iBACVoD,KAAK,OAGPlD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,gBAAeC,SAAA,EAC5BC,EAAAA,EAAAA,MAAA,UAAQF,UAAU,YAAYG,QA9Q3BkD,KACf,GAAKvG,EAAKwG,QAAW/G,EACrB,IACE,MAAMgH,EAAM,GAAA7C,OAAMzE,EAAE,KAAAyE,OAAI8C,KAAKC,OACvBvE,EAAe3C,EAAO2C,aAEtBwE,EAAU,CACdzH,GAAIsH,EACJI,KAAM7G,EAAKwG,OACXM,MAAM,IAAIJ,MAAOK,cACjB/D,SAAU7D,EACV6H,YAAavH,EAAO0C,MACpB8E,WAAY7E,EAAaD,MACzBgC,WAAYvE,GAIRsH,EAAgB1E,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,MAGvEuE,EAAcT,GAAUG,EAGxBlE,aAAayE,QAAQ,aAAc3E,KAAK4E,UAAUF,IAGlD3G,EAAS8G,GAAa,CAACT,KAAYS,IACnCpH,EAAQ,IAERqH,MAAM,2BACR,CAAE,MAAOhF,GACPjB,QAAQjB,MAAM,mBAAoBkC,GAClCgF,MAAM,sBACR,GA6O4DnE,SAAA,EAC9CF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAkB,iBAEjCD,EAAAA,EAAAA,KAAA,UAAQC,UAAU,aAAaG,QAASA,IAAMpD,EAAQ,IAAIkD,SAAC,iBAM/DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,gBAAc7C,EAAM+B,OAAO,OAC9B/B,EAAM+B,OAAS,EACd/B,EAAMuB,IAAK0F,IACTnE,EAAAA,EAAAA,MAAA,OAAuBF,UAAU,YAAWC,SAAA,EAC1CF,EAAAA,EAAAA,KAAA,KAAAE,SAAIoE,EAASV,QACbzD,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BC,EAAAA,EAAAA,MAAA,QAAMF,UAAU,YAAWC,SAAA,CACxB,IAAIuD,KAAKa,EAAST,MAAMU,qBAAqB,OAAK,IAAId,KAAKa,EAAST,MAAMW,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,gBAE/H1E,EAAAA,EAAAA,KAAA,QAAMC,UAAU,aAAYC,SAAEoE,EAASN,cACvChE,EAAAA,EAAAA,KAAA,UACEC,UAAU,kBACVG,QAASA,IAhQXoD,KAClB,IACE,MAAMS,EAAgB1E,KAAKC,MAAMC,aAAaC,QAAQ,eAAiB,aAChEuE,EAAcT,GACrB/D,aAAayE,QAAQ,aAAc3E,KAAK4E,UAAUF,IAGlD3G,EAAS8G,GAAaA,EAAUtE,OAAO/C,GAAQA,EAAKb,KAAOsH,GAC7D,CAAE,MAAOnE,GACPjB,QAAQjB,MAAM,qBAAsBkC,GACpCgF,MAAM,wBACR,GAqPmCM,CAAWL,EAASpI,IAAIgE,UAEvCF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,wBAXTqE,EAASpI,MAiBrB8D,EAAAA,EAAAA,KAAA,KAAGC,UAAU,WAAUC,SAAC,uDAQxC,C,4LC/aA,MAAM0E,EACF,yCAIEC,EAAMC,EAAAA,EAAMC,OAAO,CACvBC,QAASJ,EACTK,QAAS,CACP,eAAgB,sBAKpBJ,EAAIK,aAAaC,QAAQC,IACtBC,IACC,MAAMC,EAAQ7F,aAAaC,QAAQ,SAInC,OAHI4F,IACFD,EAAOJ,QAAQM,cAAa,UAAA5E,OAAa2E,IAEpCD,GAERlI,GACQqI,QAAQC,OAAOtI,IAK1B0H,EAAIK,aAAarH,SAASuH,IACvBvH,GAAaA,EACbV,IAAW,IAADuI,EAOT,OAN+B,OAAb,QAAdA,EAAAvI,EAAMU,gBAAQ,IAAA6H,OAAA,EAAdA,EAAgBC,UAElBlG,aAAamG,WAAW,SACxBnG,aAAamG,WAAW,QACxBhF,OAAOiF,SAASC,KAAO,UAElBN,QAAQC,OAAOtI,KAKnB,MAAM4I,EAAenI,UAC1B,IACE,MAAMC,QAAiBgH,EAAImB,KAAK,YAAaC,GAK7C,OAJIpI,EAASqI,KAAKZ,QAChB7F,aAAayE,QAAQ,QAASrG,EAASqI,KAAKZ,OAC5C7F,aAAayE,QAAQ,OAAQ3E,KAAK4E,UAAUtG,EAASqI,KAAKC,QAErDtI,EAASqI,IAClB,CAAE,MAAO/I,GAAQ,IAADiJ,EAAAC,EAEd,MADAjI,QAAQjB,MAAM,uBAAqC,QAAdiJ,EAAAjJ,EAAMU,gBAAQ,IAAAuI,OAAA,EAAdA,EAAgBF,OAAQ/I,EAAMc,UAC/C,QAAdoI,EAAAlJ,EAAMU,gBAAQ,IAAAwI,OAAA,EAAdA,EAAgBH,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,sBAC3D,GAGWqI,EAAY1I,UACvB,IACE,MAAMC,QAAiBgH,EAAImB,KAAK,SAAUO,GAK1C,OAJI1I,EAASqI,KAAKZ,QAChB7F,aAAayE,QAAQ,QAASrG,EAASqI,KAAKZ,OAC5C7F,aAAayE,QAAQ,OAAQ3E,KAAK4E,UAAUtG,EAASqI,KAAKC,QAErDtI,EAASqI,IAClB,CAAE,MAAO/I,GAAQ,IAADqJ,EAAAC,EAEd,MADArI,QAAQjB,MAAM,gBAA8B,QAAdqJ,EAAArJ,EAAMU,gBAAQ,IAAA2I,OAAA,EAAdA,EAAgBN,OAAQ/I,EAAMc,UACxC,QAAdwI,EAAAtJ,EAAMU,gBAAQ,IAAA4I,OAAA,EAAdA,EAAgBP,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,eAC3D,GAmBWyI,EAAgB9I,UAC3B,IACE,MAAM+I,EAAW,IAAIC,SACrBhH,OAAOiH,KAAKC,GAAaC,QAAQC,IACnB,WAARA,GAAoBC,MAAMC,QAAQJ,EAAYE,IAChDL,EAASQ,OAAOH,EAAKzH,KAAK4E,UAAU2C,EAAYE,MAC/B,WAARA,IAAoBF,EAAYE,GAAgBI,MACzDT,EAASQ,OAAOH,EAAKF,EAAYE,OAOrC,MAAM1B,EAAQ7F,aAAaC,QAAQ,SAC7B7B,QAAiBwJ,MAAM,GAAD1G,OAAIiE,EAAO,iBAAiB,CACtD0C,OAAQ,MACRrC,QAAS,CACP,cAAgB,UAADtE,OAAY2E,IAE7BiC,KAAMZ,IAGFT,QAAarI,EAAS2J,OAE5B,IAAK3J,EAAS4J,GACZ,MAAMvB,EAIR,GAAIA,EAAKC,KAAM,CACb,MAAMuB,EAAcnI,KAAKC,MAAMC,aAAaC,QAAQ,SAAW,MAC/DD,aAAayE,QAAQ,OAAQ3E,KAAK4E,WAASrF,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EACxC4I,GACAxB,EAAKC,OAEZ,CAEA,OAAOD,CACT,CAAE,MAAO/I,GAAQ,IAADwK,EAEd,MADAvJ,QAAQjB,MAAM,wBAAyBA,IACnB,QAAdwK,EAAAxK,EAAMU,gBAAQ,IAAA8J,OAAA,EAAdA,EAAgBzB,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,2BAC3D,GAIW2J,EAAmBhK,UAC9B,IAEE,aADuBiH,EAAIgD,IAAI,oBACf3B,IAClB,CAAE,MAAO/I,GAAQ,IAAD2K,EAAAC,EAEd,MADA3J,QAAQjB,MAAM,oBAAkC,QAAd2K,EAAA3K,EAAMU,gBAAQ,IAAAiK,OAAA,EAAdA,EAAgB5B,OAAQ/I,EAAMc,UAC5C,QAAd8J,EAAA5K,EAAMU,gBAAQ,IAAAkK,OAAA,EAAdA,EAAgB7B,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,2BAC3D,GAIW+J,EAAapK,iBAAwB,IAAjBqK,EAAMC,UAAA9I,OAAA,QAAA+I,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACzC,IAEE,aADuBrD,EAAIgD,IAAI,WAAY,CAAEI,YAC7B/B,IAClB,CAAE,MAAO/I,GAAQ,IAADiL,EAAAC,EAEd,MADAjK,QAAQjB,MAAM,sBAAoC,QAAdiL,EAAAjL,EAAMU,gBAAQ,IAAAuK,OAAA,EAAdA,EAAgBlC,OAAQ/I,EAAMc,UAC9C,QAAdoK,EAAAlL,EAAMU,gBAAQ,IAAAwK,OAAA,EAAdA,EAAgBnC,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,yBAC3D,CACF,EAEaH,EAAYF,UACvB,IAEE,aADuBiH,EAAIgD,IAAI,YAADlH,OAAazE,KAC3BgK,IAClB,CAAE,MAAO/I,GAAQ,IAADmL,EAAAC,EAEd,MADAnK,QAAQjB,MAAM,qBAAmC,QAAdmL,EAAAnL,EAAMU,gBAAQ,IAAAyK,OAAA,EAAdA,EAAgBpC,OAAQ/I,EAAMc,UAC7C,QAAdsK,EAAApL,EAAMU,gBAAQ,IAAA0K,OAAA,EAAdA,EAAgBrC,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,wBAC3D,GAGWuK,EAAiB5K,UAC5B,IAEE,aADuBiH,EAAImB,KAAK,YAADrF,OAAaZ,EAAQ,aACpCmG,IAClB,CAAE,MAAO/I,GAAQ,IAADsL,EAAAC,EAEd,MADAtK,QAAQjB,MAAM,iBAA+B,QAAdsL,EAAAtL,EAAMU,gBAAQ,IAAA4K,OAAA,EAAdA,EAAgBvC,OAAQ/I,EAAMc,UACzC,QAAdyK,EAAAvL,EAAMU,gBAAQ,IAAA6K,OAAA,EAAdA,EAAgBxC,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,6BAC3D,GAGWqD,EAAuB1D,MAAOmC,EAAU4I,KACnD,IAEE,aADuB9D,EAAImB,KAAK,YAADrF,OAAaZ,EAAQ,aAAa4I,IACjDzC,IAClB,CAAE,MAAO/I,GAAQ,IAADyL,EAAAC,EAEd,MADAzK,QAAQjB,MAAM,mBAAiC,QAAdyL,EAAAzL,EAAMU,gBAAQ,IAAA+K,OAAA,EAAdA,EAAgB1C,OAAQ/I,EAAMc,UAC3C,QAAd4K,EAAA1L,EAAMU,gBAAQ,IAAAgL,OAAA,EAAdA,EAAgB3C,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,4BAC3D,GAIW6K,EAAelL,UAC1B,IACE,MAAM0H,EAAQ7F,aAAaC,QAAQ,SAE7B7B,QAAiBwJ,MAAM,GAAD1G,OAAIiE,EAAO,mBAAmB,CACxD0C,OAAQ,OACRrC,QAAS,CACP,cAAgB,UAADtE,OAAY2E,IAE7BiC,KAAMpJ,IAGF+H,QAAarI,EAAS2J,OAE5B,IAAK3J,EAAS4J,GACZ,MAAMvB,EAGR,OAAOA,CACT,CAAE,MAAO/I,GAEP,MADAiB,QAAQjB,MAAM,uBAAwBA,GAChCA,CACR,GAGW4L,EAAcnL,UACzB,IAIE,MAAM0H,EAAQ7F,aAAaC,QAAQ,SAC7B7B,QAAiBwJ,MAAM,GAAD1G,OAAIiE,EAAO,iBAAiB,CACtD0C,OAAQ,OACRrC,QAAS,CACP,cAAgB,UAADtE,OAAY2E,IAI7BiC,KAAMyB,IAGF9C,QAAarI,EAAS2J,OAE5B,IAAK3J,EAAS4J,GACZ,MAAMvB,EAGR,OAAOA,CACT,CAAE,MAAO/I,GAEP,MADAiB,QAAQjB,MAAM,0BAA2BA,GACnCA,CACR,GAuCW8L,EAAWrL,iBAAwB,IAAjBqK,EAAMC,UAAA9I,OAAA,QAAA+I,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACvC,IAEE,aADuBrD,EAAIgD,IAAI,SAAU,CAAEI,YAC3B/B,IAClB,CAAE,MAAO/I,GAAQ,IAAD+L,EAAAC,EAEd,MADA/K,QAAQjB,MAAM,oBAAkC,QAAd+L,EAAA/L,EAAMU,gBAAQ,IAAAqL,OAAA,EAAdA,EAAgBhD,OAAQ/I,EAAMc,UAC5C,QAAdkL,EAAAhM,EAAMU,gBAAQ,IAAAsL,OAAA,EAAdA,EAAgBjD,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,uBAC3D,CACF,EAEamL,EAAUxL,UACrB,IAEE,aADuBiH,EAAIgD,IAAI,UAADlH,OAAWzE,KACzBgK,IAClB,CAAE,MAAO/I,GAAQ,IAADkM,EAAAC,EAEd,MADAlL,QAAQjB,MAAM,mBAAiC,QAAdkM,EAAAlM,EAAMU,gBAAQ,IAAAwL,OAAA,EAAdA,EAAgBnD,OAAQ/I,EAAMc,UAC3C,QAAdqL,EAAAnM,EAAMU,gBAAQ,IAAAyL,OAAA,EAAdA,EAAgBpD,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,sBAC3D,GAOWsL,EAAoB3L,UAC/B,IAEE,aADuBiH,EAAIgD,IAAI,mBACf3B,IAClB,CAAE,MAAO/I,GAAQ,IAADqM,EAAAC,EAEd,MADArL,QAAQjB,MAAM,0BAAwC,QAAdqM,EAAArM,EAAMU,gBAAQ,IAAA2L,OAAA,EAAdA,EAAgBtD,OAAQ/I,EAAMc,UAClD,QAAdwL,EAAAtM,EAAMU,gBAAQ,IAAA4L,OAAA,EAAdA,EAAgBvD,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,iCAC3D,GAGWyL,EAAiB9L,eAAO+L,EAAMzN,EAAI0N,GAAyB,IAAjBC,EAAM3B,UAAA9I,OAAA,QAAA+I,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC9D,IAKE,aAJuBrD,EAAImB,KAAK,kBAADrF,OAAmBgJ,EAAI,KAAAhJ,OAAIzE,EAAE,YAAY,CACtE0N,SACAC,YAEc3D,IAClB,CAAE,MAAO/I,GAAQ,IAAD2M,EAAAC,EAEd,MADA3L,QAAQjB,MAAM,0BAAwC,QAAd2M,EAAA3M,EAAMU,gBAAQ,IAAAiM,OAAA,EAAdA,EAAgB5D,OAAQ/I,EAAMc,UAClD,QAAd8L,EAAA5M,EAAMU,gBAAQ,IAAAkM,OAAA,EAAdA,EAAgB7D,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,4BAC3D,CACF,EAEa+L,EAAgBpM,UAC3B,IAEE,aADuBiH,EAAIgD,IAAI,iBACf3B,IAClB,CAAE,MAAO/I,GAAQ,IAAD8M,EAAAC,EAEd,MADA9L,QAAQjB,MAAM,sBAAoC,QAAd8M,EAAA9M,EAAMU,gBAAQ,IAAAoM,OAAA,EAAdA,EAAgB/D,OAAQ/I,EAAMc,UAC9C,QAAdiM,EAAA/M,EAAMU,gBAAQ,IAAAqM,OAAA,EAAdA,EAAgBhE,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,uBAC3D,GAGWkM,EAAWvM,UACtB,IAEE,aADuBiH,EAAIgD,IAAI,iBACf3B,IAClB,CAAE,MAAO/I,GAAQ,IAADiN,EAAAC,EAEd,MADAjM,QAAQjB,MAAM,oBAAkC,QAAdiN,EAAAjN,EAAMU,gBAAQ,IAAAuM,OAAA,EAAdA,EAAgBlE,OAAQ/I,EAAMc,UAC5C,QAAdoM,EAAAlN,EAAMU,gBAAQ,IAAAwM,OAAA,EAAdA,EAAgBnE,OAAQ,CAAEnI,SAAS,EAAOE,QAAS,uBAC3D,E","sources":["BuiltInVideoPlayer.js","api.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './css/VideoPlayer.css';\r\nimport { getCourse, updateCourseProgress } from './api';\r\n\r\nfunction BuiltInVideoPlayer() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const playerRef = useRef(null);\r\n  const [course, setCourse] = useState(null);\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\r\n  const [showNotes, setShowNotes] = useState(false);\r\n  const [note, setNote] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [notes, setNotes] = useState([]);\r\n  const [expandedModules, setExpandedModules] = useState({});\r\n\r\n  // YouTube regex for extracting video ID\r\n  const getYouTubeId = (url) => {\r\n    if (!url) return null;\r\n    const regExp = /^.*(youtu.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]{11}).*/;\r\n    const match = url.match(regExp);\r\n    return (match && match[2]) ? match[2] : null;\r\n  };\r\n\r\n  const isYouTubeUrl = (url) => {\r\n    if (!url) return false;\r\n    return url.includes('youtube.com') || url.includes('youtu.be');\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCourseData();\r\n    loadNotes();\r\n  }, [id]);\r\n\r\n  const fetchCourseData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await getCourse(id);\r\n      \r\n      if (response.success) {\r\n        const courseData = response.course;\r\n        console.log('Fetched course for video player:', courseData);\r\n        \r\n        // Flatten all videos from all modules for easy navigation\r\n        const allVideos = courseData.modules?.flatMap((module, moduleIndex) => \r\n          module.videos.map(video => ({\r\n            ...video,\r\n            moduleId: module._id || moduleIndex,\r\n            moduleName: module.title,\r\n            moduleIndex\r\n          }))\r\n        ) || [];\r\n        \r\n        setCourse({\r\n          ...courseData,\r\n          allVideos,\r\n          currentVideo: allVideos[0] || null\r\n        });\r\n        \r\n        // Expand first module by default\r\n        if (courseData.modules && courseData.modules.length > 0) {\r\n          setExpandedModules({ [courseData.modules[0]._id || 0]: true });\r\n        }\r\n        \r\n        setError(null);\r\n      } else {\r\n        throw new Error(response.message || 'Failed to load course');\r\n      }\r\n    } catch (err) {\r\n      console.error('Course fetch error:', err);\r\n      setError(err.message || 'Failed to load course');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadNotes = () => {\r\n    try {\r\n      const savedNotes = JSON.parse(localStorage.getItem('videoNotes') || '{}');\r\n      // Get notes for this specific course\r\n      const courseNotes = Object.values(savedNotes).filter(note =>\r\n        note.courseId === id\r\n      );\r\n      setNotes(courseNotes);\r\n    } catch (err) {\r\n      console.error('Load notes error:', err);\r\n      setNotes([]);\r\n    }\r\n  };\r\n\r\n  const handleVideoSelect = async (video, globalIndex) => {\r\n    if (!course) return;\r\n    \r\n    // Update current video\r\n    setCourse({\r\n      ...course,\r\n      currentVideo: video\r\n    });\r\n    setCurrentVideoIndex(globalIndex);\r\n\r\n    // Update course progress (mark as started)\r\n    try {\r\n      await updateCourseProgress(id, {\r\n        progress: Math.min(100, ((globalIndex + 1) / course.allVideos.length) * 100),\r\n        completed: globalIndex === course.allVideos.length - 1\r\n      });\r\n    } catch (err) {\r\n      console.error('Progress update error:', err);\r\n    }\r\n\r\n    // Auto-scroll to selected video\r\n    const videoElement = document.getElementById(`video-${globalIndex}`);\r\n    if (videoElement) {\r\n      videoElement.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n    }\r\n  };\r\n\r\n  const toggleModule = (moduleId) => {\r\n    setExpandedModules(prev => ({\r\n      ...prev,\r\n      [moduleId]: !prev[moduleId]\r\n    }));\r\n  };\r\n\r\n  const saveNote = () => {\r\n    if (!note.trim() || !course) return;\r\n    try {\r\n      const noteId = `${id}-${Date.now()}`;\r\n      const currentVideo = course.currentVideo;\r\n      \r\n      const newNote = {\r\n        id: noteId,\r\n        text: note.trim(),\r\n        date: new Date().toISOString(),\r\n        courseId: id,\r\n        courseTitle: course.title,\r\n        videoTitle: currentVideo.title,\r\n        videoIndex: currentVideoIndex\r\n      };\r\n\r\n      // Get existing notes\r\n      const existingNotes = JSON.parse(localStorage.getItem('videoNotes') || '{}');\r\n      \r\n      // Add new note\r\n      existingNotes[noteId] = newNote;\r\n      \r\n      // Save back to localStorage\r\n      localStorage.setItem('videoNotes', JSON.stringify(existingNotes));\r\n      \r\n      // Update state\r\n      setNotes(prevNotes => [newNote, ...prevNotes]);\r\n      setNote('');\r\n      \r\n      alert('Note saved successfully!');\r\n    } catch (err) {\r\n      console.error('Save note error:', err);\r\n      alert('Failed to save note');\r\n    }\r\n  };\r\n\r\n  const deleteNote = (noteId) => {\r\n    try {\r\n      const existingNotes = JSON.parse(localStorage.getItem('videoNotes') || '{}');\r\n      delete existingNotes[noteId];\r\n      localStorage.setItem('videoNotes', JSON.stringify(existingNotes));\r\n      \r\n      // Update state\r\n      setNotes(prevNotes => prevNotes.filter(note => note.id !== noteId));\r\n    } catch (err) {\r\n      console.error('Delete note error:', err);\r\n      alert('Failed to delete note');\r\n    }\r\n  };\r\n\r\n  // Loading/ Error handling\r\n  if (loading) {\r\n    return (\r\n      <div className=\"video-player-wrapper\">\r\n        <div className=\"loading-container\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Loading video player...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error || !course) {\r\n    return (\r\n      <div className=\"video-player-wrapper\">\r\n        <div className=\"error-container\">\r\n          <i className=\"fas fa-exclamation-triangle\"></i>\r\n          <h3>{error || 'Course not found'}</h3>\r\n          <p>{error ? 'Please try again later' : 'The course content could not be loaded.'}</p>\r\n          <button onClick={() => navigate('/list')} className=\"btn-primary\">\r\n            Browse Courses\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const currentVideo = course.currentVideo;\r\n  const videoIsYouTube = currentVideo?.url ? isYouTubeUrl(currentVideo.url) : false;\r\n  const ytId = videoIsYouTube ? getYouTubeId(currentVideo.url) : null;\r\n\r\n  return (\r\n    <div className=\"video-player-wrapper\">\r\n      {/* Header */}\r\n      <header className=\"video-header\">\r\n        <button className=\"back-btn\" onClick={() => navigate(`/course/${id}`)}>\r\n          ‚Üê Back to Course\r\n        </button>\r\n        <h2>{course.title}</h2>\r\n        <div className=\"header-actions\">\r\n          <button\r\n            className=\"notes-btn\"\r\n            onClick={() => setShowNotes(!showNotes)}\r\n          >\r\n            <i className=\"fas fa-sticky-note\"></i> {showNotes ? 'Hide' : 'Notes'}\r\n          </button>\r\n          <button \r\n            className=\"download-btn\"\r\n            onClick={() => {\r\n              if (videoIsYouTube && ytId) {\r\n                window.open(`https://www.youtube.com/watch?v=${ytId}`, '_blank');\r\n              } else {\r\n                window.open(currentVideo?.url, '_blank');\r\n              }\r\n            }}\r\n          >\r\n            <i className=\"fas fa-external-link-alt\"></i> Open in New Tab\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content with Sidebar */}\r\n      <div className=\"video-content-wrapper\">\r\n        {/* Playlist Sidebar */}\r\n        {course.modules && course.modules.length > 0 && (\r\n          <div className=\"playlist-sidebar\">\r\n            <div className=\"sidebar-header\">\r\n              <h3>\r\n                <i className=\"fas fa-list\"></i> Course Playlist\r\n              </h3>\r\n              <span className=\"video-count\">{course.allVideos.length} videos</span>\r\n            </div>\r\n          \r\n            <div className=\"playlist-list\">\r\n              {course.modules.map((module, moduleIndex) => {\r\n                const isExpanded = expandedModules[module._id || moduleIndex];\r\n                const moduleVideos = module.videos || [];\r\n                \r\n                return (\r\n                  <div key={module._id || moduleIndex} className=\"module-section\">\r\n                    {/* Module Header */}\r\n                    <div \r\n                      className=\"module-header\"\r\n                      onClick={() => toggleModule(module._id || moduleIndex)}\r\n                    >\r\n                      <i className={`fas ${isExpanded ? 'fa-chevron-down' : 'fa-chevron-right'}`}></i>\r\n                      <h4>{module.title}</h4>\r\n                      <span className=\"module-video-count\">{moduleVideos.length} videos</span>\r\n                    </div>\r\n                  \r\n                    {/* Module Videos */}\r\n                    {isExpanded && (\r\n                      <div className=\"module-videos\">\r\n                        {moduleVideos.map((video, videoIndex) => {\r\n                          // Find global index\r\n                          const globalIndex = course.allVideos.findIndex(v => \r\n                            v.url === video.url && v.title === video.title\r\n                          );\r\n                          \r\n                          return (\r\n                            <div\r\n                              key={`${module._id || moduleIndex}-${videoIndex}`}\r\n                              id={`video-${globalIndex}`}\r\n                              className={`playlist-item ${currentVideoIndex === globalIndex ? 'active' : ''}`}\r\n                              onClick={() => handleVideoSelect(course.allVideos[globalIndex], globalIndex)}\r\n                            >\r\n                              <div className=\"playlist-item-icon\">\r\n                                {currentVideoIndex === globalIndex ? (\r\n                                  <i className=\"fas fa-play-circle\"></i>\r\n                                ) : (\r\n                                  <i className=\"far fa-circle\"></i>\r\n                                )}\r\n                              </div>\r\n                              <div className=\"playlist-item-info\">\r\n                                <p className=\"playlist-item-title\">{video.title}</p>\r\n                                {video.duration && (\r\n                                  <span className=\"playlist-item-duration\">{video.duration}</span>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Main Video Area */}\r\n        <div className=\"video-main-content\">\r\n          <div className=\"video-main\">\r\n            <div className=\"video-wrapper\">\r\n              {/* YouTube iframe */}\r\n              {videoIsYouTube && ytId ? (\r\n                <iframe\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  src={`https://www.youtube.com/embed/${ytId}?rel=0&modestbranding=1`}\r\n                  title={currentVideo?.title || `${course.title} - Complete Tutorial`}\r\n                  frameBorder=\"0\"\r\n                  allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n                  allowFullScreen\r\n                  className=\"youtube-iframe\"\r\n                ></iframe>\r\n              ) : (\r\n                // HTML5 video player\r\n                <video\r\n                  ref={playerRef}\r\n                  src={currentVideo?.url}\r\n                  onError={(e) => {\r\n                    console.error('Video load error:', e);\r\n                    setError('Failed to load video. Please check your connection.');\r\n                  }}\r\n                  className=\"video-element\"\r\n                  controls\r\n                />\r\n              )}\r\n            </div>\r\n        \r\n            <div className=\"video-info\">\r\n              <h3>{currentVideo?.title || course.title}</h3>\r\n              <p className=\"course-description\">{course.description}</p>\r\n            \r\n              {/* Course Details Below Description */}\r\n              <div className=\"course-details\">\r\n                <div className=\"detail-item\">\r\n                  <i className=\"fas fa-clock\"></i>\r\n                  <span><strong>Duration:</strong> {currentVideo?.duration || course.duration}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <i className=\"fas fa-signal\"></i>\r\n                  <span><strong>Level:</strong> {course.level}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <i className=\"fas fa-user\"></i>\r\n                  <span><strong>Instructor:</strong> {course.instructorName}</span>\r\n                </div>\r\n                <div className=\"detail-item\">\r\n                  <i className=\"fas fa-tag\"></i>\r\n                  <span><strong>Category:</strong> {course.category}</span>\r\n                </div>\r\n              </div>\r\n\r\n              {error && (\r\n                <p className=\"video-error\">\r\n                  <i className=\"fas fa-exclamation-triangle\"></i> {error}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Notes Panel - Fixed and Always Visible when opened */}\r\n      {showNotes && (\r\n        <div className=\"notes-panel active\">\r\n          <div className=\"notes-header\">\r\n            <h3>My Notes</h3>\r\n            <button \r\n              className=\"close-notes\" \r\n              onClick={() => setShowNotes(false)}\r\n            >\r\n              <i className=\"fas fa-times\"></i>\r\n            </button>\r\n          </div>\r\n        \r\n          <div className=\"notes-content\">\r\n            <div className=\"notes-input-section\">\r\n              <textarea\r\n                value={note}\r\n                onChange={(e) => setNote(e.target.value)}\r\n                placeholder=\"Type your notes here...\"\r\n                className=\"notes-textarea\"\r\n                rows=\"6\"\r\n              />\r\n            \r\n              <div className=\"notes-actions\">\r\n                <button className=\"save-note\" onClick={saveNote}>\r\n                  <i className=\"fas fa-save\"></i> Save Note\r\n                </button>\r\n                <button className=\"clear-note\" onClick={() => setNote('')}>\r\n                  Clear\r\n                </button>\r\n              </div>\r\n            </div>\r\n          \r\n            <div className=\"saved-notes\">\r\n              <h4>Saved Notes ({notes.length})</h4>\r\n              {notes.length > 0 ? (\r\n                notes.map((noteItem) => (\r\n                  <div key={noteItem.id} className=\"note-item\">\r\n                    <p>{noteItem.text}</p>\r\n                    <div className=\"note-footer\">\r\n                      <span className=\"note-time\">\r\n                        {new Date(noteItem.date).toLocaleDateString()} at {new Date(noteItem.date).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                      </span>\r\n                      <span className=\"note-video\">{noteItem.videoTitle}</span>\r\n                      <button \r\n                        className=\"delete-note-btn\"\r\n                        onClick={() => deleteNote(noteItem.id)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <p className=\"no-notes\">No notes saved yet. Start typing above!</p>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BuiltInVideoPlayer;","import axios from 'axios';\r\n// Current (problematic)\r\n\r\nconst API_URL = process.env.NODE_ENV === 'production'\r\n  ? 'https://e-siksha-mljg.onrender.com/api'  // ‚úÖ Add /api here\r\n  : 'http://localhost:5000/api';\r\n\r\n// Create axios instance for JSON requests\r\nconst api = axios.create({\r\n  baseURL: API_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\n// Request interceptor to add token\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Response interceptor to handle errors\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response?.status === 401) {\r\n      // Token expired or invalid\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('user');\r\n      window.location.href = '/login';\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// üîê AUTH APIs\r\nexport const registerUser = async (userData) => {\r\n  try {\r\n    const response = await api.post('/register', userData);\r\n    if (response.data.token) {\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    }\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Registration error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Registration failed' };\r\n  }\r\n};\r\n\r\nexport const loginUser = async (credentials) => {\r\n  try {\r\n    const response = await api.post('/login', credentials);\r\n    if (response.data.token) {\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('user', JSON.stringify(response.data.user));\r\n    }\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Login error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Login failed' };\r\n  }\r\n};\r\n\r\nexport const logoutUser = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  window.location.href = '/login';\r\n};\r\n\r\nexport const getCurrentUser = async () => {\r\n  try {\r\n    const response = await api.get('/user/me');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get user error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to get user' };\r\n  }\r\n};\r\n\r\nexport const updateProfile = async (profileData) => {\r\n  try {\r\n    const formData = new FormData();\r\n    Object.keys(profileData).forEach(key => {\r\n      if (key === 'skills' && Array.isArray(profileData[key])) {\r\n        formData.append(key, JSON.stringify(profileData[key]));\r\n      } else if (key === 'avatar' && profileData[key] instanceof File) {\r\n        formData.append(key, profileData[key]);\r\n      } else {\r\n        formData.append(key, profileData[key]);\r\n      }\r\n    });\r\n\r\n    // Use fetch for multipart/form-data\r\n    const token = localStorage.getItem('token');\r\n    const response = await fetch(`${API_URL}/user/profile`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: formData\r\n    });\r\n\r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw data;\r\n    }\r\n\r\n    // Update local storage\r\n    if (data.user) {\r\n      const currentUser = JSON.parse(localStorage.getItem('user') || '{}');\r\n      localStorage.setItem('user', JSON.stringify({\r\n        ...currentUser,\r\n        ...data.user\r\n      }));\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Update profile error:', error);\r\n    throw error.response?.data || { success: false, message: 'Failed to update profile' };\r\n  }\r\n};\r\n\r\n// üìä DASHBOARD APIs\r\nexport const getDashboardData = async () => {\r\n  try {\r\n    const response = await api.get('/user/dashboard');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Dashboard error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load dashboard' };\r\n  }\r\n};\r\n\r\n// üìö COURSE APIs\r\nexport const getCourses = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/courses', { params });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get courses error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load courses' };\r\n  }\r\n};\r\n\r\nexport const getCourse = async (id) => {\r\n  try {\r\n    const response = await api.get(`/courses/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get course error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load course' };\r\n  }\r\n};\r\n\r\nexport const enrollInCourse = async (courseId) => {\r\n  try {\r\n    const response = await api.post(`/courses/${courseId}/enroll`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Enroll error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to enroll in course' };\r\n  }\r\n};\r\n\r\nexport const updateCourseProgress = async (courseId, progressData) => {\r\n  try {\r\n    const response = await api.post(`/courses/${courseId}/progress`, progressData);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Progress error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to update progress' };\r\n  }\r\n};\r\n\r\n// üì§ CONTENT SUBMISSION APIs\r\nexport const submitCourse = async (courseData) => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    \r\n    const response = await fetch(`${API_URL}/courses/submit`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n      body: courseData\r\n    });\r\n\r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw data;\r\n    }\r\n\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Submit course error:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const submitNotes = async (notesData) => {\r\n  try {\r\n    // No need to manually create FormData again here\r\n    // The notesData passed from AddContent.js is already a FormData object\r\n    \r\n    const token = localStorage.getItem('token');\r\n    const response = await fetch(`${API_URL}/notes/submit`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n        // Don't set Content-Type header when sending FormData\r\n        // The browser will set it automatically with proper boundary\r\n      },\r\n      body: notesData, // notesData is already FormData\r\n    });\r\n    \r\n    const data = await response.json();\r\n    \r\n    if (!response.ok) {\r\n      throw data;\r\n    }\r\n    \r\n    return data;\r\n  } catch (error) {\r\n    console.error('Error submitting notes:', error);\r\n    throw error;\r\n  }\r\n};\r\nexport const downloadNotes = async (notesId) => {\r\n  try {\r\n    const token = localStorage.getItem('token');\r\n    const response = await fetch(`${API_URL}/notes/${notesId}/download`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    });\r\n    \r\n    if (!response.ok) {\r\n      const errorData = await response.json();\r\n      throw errorData;\r\n    }\r\n    \r\n    // For files, we need to handle the blob\r\n    if (response.headers.get('content-type').includes('application/json')) {\r\n      return await response.json();\r\n    } else {\r\n      // For file downloads, create blob and download link\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `notes-${notesId}.${blob.type.split('/')[1]}`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n      document.body.removeChild(a);\r\n      return { success: true, message: 'Download started' };\r\n    }\r\n  } catch (error) {\r\n    console.error('Download notes error:', error);\r\n    throw error;\r\n  }\r\n};\r\n// üìù NOTES APIs\r\nexport const getNotes = async (params = {}) => {\r\n  try {\r\n    const response = await api.get('/notes', { params });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get notes error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load notes' };\r\n  }\r\n};\r\n\r\nexport const getNote = async (id) => {\r\n  try {\r\n    const response = await api.get(`/notes/${id}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get note error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load note' };\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n// üë®‚Äçüíº ADMIN APIs\r\nexport const getPendingContent = async () => {\r\n  try {\r\n    const response = await api.get('/admin/pending');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Pending content error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load pending content' };\r\n  }\r\n};\r\n\r\nexport const approveContent = async (type, id, action, reason = '') => {\r\n  try {\r\n    const response = await api.post(`/admin/content/${type}/${id}/approve`, {\r\n      action,\r\n      reason\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Approve content error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to process content' };\r\n  }\r\n};\r\n\r\nexport const getAdminStats = async () => {\r\n  try {\r\n    const response = await api.get('/admin/stats');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Admin stats error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load stats' };\r\n  }\r\n};\r\n\r\nexport const getUsers = async () => {\r\n  try {\r\n    const response = await api.get('/admin/users');\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Get users error:', error.response?.data || error.message);\r\n    throw error.response?.data || { success: false, message: 'Failed to load users' };\r\n  }\r\n};\r\n\r\n\r\n\r\nexport { api };"],"names":["id","useParams","navigate","useNavigate","playerRef","useRef","course","setCourse","useState","currentVideoIndex","setCurrentVideoIndex","showNotes","setShowNotes","note","setNote","loading","setLoading","error","setError","notes","setNotes","expandedModules","setExpandedModules","useEffect","fetchCourseData","loadNotes","async","response","getCourse","success","Error","message","_courseData$modules","courseData","console","log","allVideos","modules","flatMap","module","moduleIndex","videos","map","video","_objectSpread","moduleId","_id","moduleName","title","currentVideo","length","err","savedNotes","JSON","parse","localStorage","getItem","courseNotes","Object","values","filter","courseId","_jsx","className","children","_jsxs","onClick","videoIsYouTube","url","includes","ytId","match","getYouTubeId","concat","window","open","isExpanded","moduleVideos","toggleModule","prev","videoIndex","globalIndex","findIndex","v","updateCourseProgress","progress","Math","min","completed","videoElement","document","getElementById","scrollIntoView","behavior","block","handleVideoSelect","duration","width","height","src","frameBorder","allow","allowFullScreen","ref","onError","e","controls","description","level","instructorName","category","value","onChange","target","placeholder","rows","saveNote","trim","noteId","Date","now","newNote","text","date","toISOString","courseTitle","videoTitle","existingNotes","setItem","stringify","prevNotes","alert","noteItem","toLocaleDateString","toLocaleTimeString","hour","minute","deleteNote","API_URL","api","axios","create","baseURL","headers","interceptors","request","use","config","token","Authorization","Promise","reject","_error$response","status","removeItem","location","href","registerUser","post","userData","data","user","_error$response2","_error$response3","loginUser","credentials","_error$response4","_error$response5","updateProfile","formData","FormData","keys","profileData","forEach","key","Array","isArray","append","File","fetch","method","body","json","ok","currentUser","_error$response8","getDashboardData","get","_error$response9","_error$response0","getCourses","params","arguments","undefined","_error$response1","_error$response10","_error$response11","_error$response12","enrollInCourse","_error$response13","_error$response14","progressData","_error$response15","_error$response16","submitCourse","submitNotes","notesData","getNotes","_error$response17","_error$response18","getNote","_error$response19","_error$response20","getPendingContent","_error$response21","_error$response22","approveContent","type","action","reason","_error$response23","_error$response24","getAdminStats","_error$response25","_error$response26","getUsers","_error$response27","_error$response28"],"ignoreList":[],"sourceRoot":""}